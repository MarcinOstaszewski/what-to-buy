(this["webpackJsonpwhat-to-buy"]=this["webpackJsonpwhat-to-buy"]||[]).push([[0],{10:function(e,t,a){e.exports={list:"ShowList_list__3ulZj",categoryName:"ShowList_categoryName__30IIg",category:"ShowList_category__2UWnV",product:"ShowList_product__KkwLr",toBuy:"ShowList_toBuy__PJrhx",theRest:"ShowList_theRest__1Ih5C"}},13:function(e,t,a){e.exports={TopMenu:"TopMenu_TopMenu__1GqW0",true:"TopMenu_true__vXCSI"}},14:function(e,t,a){e.exports={checkboxContainer:"ProductWithCheckbox_checkboxContainer__1UHTy",checkmark:"ProductWithCheckbox_checkmark__1RLcK",prodName:"ProductWithCheckbox_prodName__2N05W"}},25:function(e,t,a){e.exports=a(42)},30:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){"use strict";a.r(t);var o=a(1),n=a.n(o),r=a(19),c=a.n(r),i=(a(30),a(20)),s=a(11),l=a(15),u=a(21),d=a(22),m=a(24),p=a(23),h=a(13),g=a.n(h),y=function(e){return n.a.createElement("div",{id:"dddafad",className:g.a.TopMenu},n.a.createElement("div",{onClick:e.funcUndoRedo,"data-dir":"u",className:g.a[e.undo],disabled:0===e.undo},"Undo"),n.a.createElement("div",{onClick:e.funcUndoRedo,"data-dir":"r",className:g.a[e.redo],disabled:0===e.redo},"Redo"),n.a.createElement("div",{"data-value":1,onClick:e.changeFontSize},"A+"),n.a.createElement("div",{"data-value":-1,onClick:e.changeFontSize},"a-"))},v=a(7),b=a.n(v),k=function(e){var t;"radio"===e.type&&(t=n.a.createElement("span",{className:b.a.checkmark}));var a,o,r,c=e.width?e.width:12,i=e.disabled;return"switch"===e.type?(o="switch",r="moveHigher",a=n.a.createElement("div",null,n.a.createElement("input",{id:e.id,value:e.value,type:"checkbox",onChange:e.onChange}),n.a.createElement("span",{className:b.a.slider}))):a=n.a.createElement("input",{type:e.type,id:e.id,value:e.value,onChange:e.onChange,onClick:e.onClick,className:e.clName,name:e.name,disabled:i}),n.a.createElement("div",{key:e.key,className:[b.a.formField,"col-"+c,b.a[e.mainClassName]].join(" ")},n.a.createElement("label",{className:b.a[o]},n.a.createElement("div",{className:b.a[r]},e.text),a,t))},C=a(9),_=a.n(C),f=function(e){var t=n.a.createElement("span",{className:["categoryName",e.removeDiacrits(e.categoryClicked)].join(" ")},e.categoryClicked.toUpperCase());return n.a.createElement("div",{className:[_.a.backDrop,_.a[e.isModalVisible]].join(" "),onClick:e.hideBackDrop},n.a.createElement("div",{className:[_.a.modalWindow,_.a[e.isModalVisible]].join(" ")},n.a.createElement("div",{className:_.a.hideBackDrop,onClick:e.hideBackDrop}),n.a.createElement("form",{onSubmit:e.submitNewProduct},n.a.createElement("h4",null,"Dodaj produkt do kategorii ",t),n.a.createElement("div",{className:"row"},n.a.createElement(k,{id:"newProductName",text:"Podaj nazw\u0119 produktu",width:"9",value:e.newProductName,onChange:e.handleInputChange}),n.a.createElement(k,{id:"newProductToBuy",text:"Kupi\u0107?",type:"switch",width:"3",value:e.newProductToBuy,mainClassName:"switchContainer",onChange:e.handleInputChange})),n.a.createElement(k,{id:"newProductNameSubmit",clName:"hue-120",type:"submit",value:"Dodaj produkt"})),n.a.createElement("form",{onSubmit:e.deleteSelectedProducts},n.a.createElement("h4",null,"Usu\u0144 produkt/y z kategorii ",t),e.productsFromCategory,n.a.createElement(k,{id:"newProductNameSubmit",type:"submit",clName:"hue-0",value:"Usu\u0144 zaznaczone produkty",onSubmit:e.submitCategoryNameChange})),n.a.createElement("form",{onSubmit:e.submitCategoryNameChange},n.a.createElement("h2",null,"Edytuj kategori\u0119 ",t),n.a.createElement(k,{id:"newCategoryName",text:"Nowa nazwa kategorii",value:e.newCategoryName,onChange:e.handleInputChange}),n.a.createElement(k,{id:"newCategoryNameSubmit",type:"submit",clName:"hue-30",value:"Zmie\u0144 nazw\u0119 kategorii"}),n.a.createElement("p",null,"WY\u015aWIETLI\u0106 KOLOROWE KWADRACIKI do zaznaczenia"),n.a.createElement(k,{id:"newCategoryColorSubmit",type:"submit",clName:"hue-300",value:"Zmie\u0144 kolor kategorii"}))))},w=a(14),N=a.n(w),E=function(e){var t=e.prod;return n.a.createElement("label",{className:N.a.checkboxContainer,key:t},n.a.createElement("input",{type:"checkbox",id:t}),n.a.createElement("span",{className:N.a.prodName},t),n.a.createElement("span",{className:N.a.checkmark}))},S=a(8);S.initializeApp({apiKey:"AIzaSyB_psG_2HT8VisbjB3szsMjZsnlfQIS9ko",authDomain:"what-to-buy-94750.firebaseapp.com",databaseURL:"https://what-to-buy-94750.firebaseio.com",projectId:"what-to-buy-94750",storageBucket:"what-to-buy-94750.appspot.com",messagingSenderId:"194092546135",appId:"1:194092546135:web:7661e65a00a7f2aa390b12",measurementId:"G-XWZR1H0ZMY"});var I=S.database();new S.auth.GoogleAuthProvider;I.ref("categories").once("value").then((function(e){var t=e.val(),a={};Object.keys(t).forEach((function(e){a[e]=1})),I.ref("categoryNames").set(a)}));var P=a(10),j=a.n(P),D=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(u.a)(this,a);for(var o=arguments.length,r=new Array(o),c=0;c<o;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={categories:{"Pobieranie danych":{products:{"prosz\u0119_czeka\u0107...":1}}},fontSize:16,undo:[],redo:[],newCategoryName:"",newProductName:"",newProductToBuy:1,isModalVisible:"",categoryClicked:"",productsFromCategory:[]},e.dbRef="categories",e.changeFontSize=function(t){console.log(parseInt(t.target.dataset)),e.setState({fontSize:parseInt(e.state.fontSize)+parseInt(t.target.dataset.value)})},e.funcUndoRedo=function(t){var a,o,n=t.target.dataset.dir,r=Object(l.a)(e.state.undo),c=Object(l.a)(e.state.redo);"u"===n&&(a=r.pop(),c.push(a),I.ref("".concat(e.dbRef,"/").concat(a.category,"/products/").concat(a.name)).set(a.value)),"r"===n&&((o=c.pop()).value=0===o.value?1:0,r.push(o),I.ref("".concat(e.dbRef,"/").concat(o.category,"/products/").concat(o.name)).set(o.value)),console.log(a,o,r,c),e.setState({undo:r,redo:c})},e.moveProduct=function(t){var a=t.target.dataset.name,o=t.target.dataset.category,n=0===parseInt(t.target.dataset.value)?1:0;I.ref("".concat(e.dbRef,"/").concat(o,"/products/").concat(a)).set(n);var r=Object(l.a)(e.state.undo);r.push({name:a,category:o,value:parseInt(t.target.dataset.value)}),e.setState({undo:r})},e.updateProductsFromDb=function(t){I.ref(t).on("value",(function(a){var o=a.val();e.setState(Object(s.a)({},t,o))}),(function(e){console.log(e.code,e)}))},e.handleInputChange=function(t){console.log(t.target.id,t.target.value,e.state);var a=t.target.value;a="newProductName"===t.target.id?a.toLowerCase():"newProductToBuy"===t.target.id?1===e.state.newProductToBuy?0:1:a.toUpperCase(),e.setState(Object(s.a)({},t.target.id,a))},e.handleCategoryClick=function(t){var a=t.target.dataset.name,o=[];for(var r in e.state.categories[a].products)o.push(n.a.createElement(E,{key:r,prod:r.replace(/_/g," ")}));e.setState({productsFromCategory:o,isModalVisible:"visible",categoryClicked:a,newCategoryName:e.toUpperWithoutSpaces(a)})},e.hideBackDrop=function(t){t.target===t.currentTarget&&e.setState({isModalVisible:""})},e.toUpperWithoutSpaces=function(e){return e.toUpperCase().replace(/ /g,"_")},e.removeDiacrits=function(e){return e.replace(/[\u0105\u0107\u0119\u0142\u0144\xf3\u015b\u017a\u017c]/gi,"x")},e.categoryElement=function(t,a,o,r){return n.a.createElement("div",{"data-name":o,className:["categoryName",r,j.a.categoryName,e.removeDiacrits(o)].join(" "),onClick:e.handleCategoryClick,key:t+a},o)},e.submitCategoryNameChange=function(e){e.preventDefault(),console.log(e.target)},e.submitNewProduct=function(t){t.preventDefault();var a=Object(i.a)({},e.state.categories[e.state.categoryClicked].products);a[e.state.newProductName]=e.state.newProductToBuy,console.log(e.state.newProductName),I.ref("".concat(e.dbRef,"/").concat(e.state.categoryClicked,"/products/")).set(a.replace(/ /g,"_"))},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.updateProductsFromDb("".concat(this.dbRef))}},{key:"render",value:function(){var e=this,t=[],a=[];return Object.keys(this.state.categories).forEach((function(o,r){var c=e.state.categories[o],i="hue-"+c.hue,s=[],l=[];Object.keys(c.products).forEach((function(t,a){var r=n.a.createElement("div",{className:["product",i,j.a.product].join(" "),key:e.removeDiacrits(o)+a,"data-name":t,"data-category":o,onClick:e.moveProduct,"data-value":c.products[t]},t.toLowerCase().replace(/_/g," "));c.products[t]?s.push(r):l.push(r)})),s.length>0&&t.push(e.categoryElement(t,r,o,i)),t.push.apply(t,s),l.length>0&&a.push(e.categoryElement(a,r,o,i)),a.push.apply(a,l)})),n.a.createElement("div",{className:j.a.list,style:{fontSize:this.state.fontSize}},n.a.createElement(y,{changeFontSize:this.changeFontSize,funcUndoRedo:this.funcUndoRedo,undo:0===this.state.undo.length,redo:0===this.state.redo.length}),n.a.createElement("p",null,"Do kupienia:"),n.a.createElement("div",{className:j.a.toBuy},t),n.a.createElement("hr",null),n.a.createElement("div",{className:j.a.theRest},a),n.a.createElement(f,{categoryClicked:this.state.categoryClicked,newCategoryName:this.state.newCategoryName,newProductName:this.state.newProductName,hideBackDrop:this.hideBackDrop,removeDiacrits:this.removeDiacrits,handleInputChange:this.handleInputChange,submitCategoryNameChange:this.submitCategoryNameChange,submitNewProduct:this.submitNewProduct,productsFromCategory:this.state.productsFromCategory,deleteSelectedProducts:this.deleteSelectedProducts,isModalVisible:this.state.isModalVisible}))}}]),a}(o.Component);a(41);var z=function(){return n.a.createElement("div",{className:"App"},n.a.createElement(D,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(z,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},7:function(e,t,a){e.exports={formField:"InputField_formField__1aeAu",answerRadio:"InputField_answerRadio__38Ff8",checkmark:"InputField_checkmark__2FKrn",invalid:"InputField_invalid__1BJoB",submit:"InputField_submit__2j43y",switchContainer:"InputField_switchContainer__3xTYm",switch:"InputField_switch__3PWGH",moveHigher:"InputField_moveHigher__1ohim",slider:"InputField_slider__3212e"}},9:function(e,t,a){e.exports={backDrop:"Modal_backDrop__1X4vu",visible:"Modal_visible__2SMZK",modalWindow:"Modal_modalWindow__16Crz",newCategoryName:"Modal_newCategoryName__e8lG8",hideBackDrop:"Modal_hideBackDrop__1qf7m"}}},[[25,1,2]]]);
//# sourceMappingURL=main.3f321caa.chunk.js.map