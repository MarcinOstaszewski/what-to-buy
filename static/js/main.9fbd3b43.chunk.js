(this["webpackJsonpwhat-to-buy"]=this["webpackJsonpwhat-to-buy"]||[]).push([[0],{10:function(e,a,t){e.exports={list:"ShowList_list__3ulZj",categoryName:"ShowList_categoryName__30IIg",category:"ShowList_category__2UWnV",product:"ShowList_product__KkwLr",toBuy:"ShowList_toBuy__PJrhx",theRest:"ShowList_theRest__1Ih5C"}},13:function(e,a,t){e.exports={TopMenu:"TopMenu_TopMenu__1GqW0",true:"TopMenu_true__vXCSI"}},14:function(e,a,t){e.exports={checkboxContainer:"ProductWithCheckbox_checkboxContainer__1UHTy",checkmark:"ProductWithCheckbox_checkmark__1RLcK",prodName:"ProductWithCheckbox_prodName__2N05W"}},25:function(e,a,t){e.exports=t(42)},30:function(e,a,t){},41:function(e,a,t){},42:function(e,a,t){"use strict";t.r(a);var o=t(1),n=t.n(o),r=t(20),c=t.n(r),i=(t(30),t(17)),s=t(11),u=t(15),d=t(21),l=t(22),m=t(24),p=t(23),h=t(13),y=t.n(h),k=function(e){return n.a.createElement("div",{id:"dddafad",className:y.a.TopMenu},n.a.createElement("div",{onClick:e.funcUndoRedo,"data-dir":"u",className:y.a[e.undo],disabled:0===e.undo},"Undo"),n.a.createElement("div",{onClick:e.funcUndoRedo,"data-dir":"r",className:y.a[e.redo],disabled:0===e.redo},"Redo"),n.a.createElement("div",{"data-value":1,onClick:e.changeFontSize},"A+"),n.a.createElement("div",{"data-value":-1,onClick:e.changeFontSize},"a-"))},g=t(7),w=t.n(g),b=function(e){var a;"radio"===e.type&&(a=n.a.createElement("span",{className:w.a.checkmark}));var t,o,r,c=e.width?e.width:12,i=e.disabled;return"switch"===e.type?(o="switch",r="moveHigher",t=n.a.createElement("div",null,n.a.createElement("input",{id:e.id,value:e.value,type:"checkbox",onChange:e.onChange}),n.a.createElement("span",{className:w.a.slider}))):t=n.a.createElement("input",{type:e.type,id:e.id,value:e.value,onChange:e.onChange,onClick:e.onClick,className:e.clName,name:e.name,disabled:i}),n.a.createElement("div",{key:e.key,className:[w.a.formField,"col-"+c,w.a[e.mainClassName]].join(" ")},n.a.createElement("label",{className:w.a[o]},n.a.createElement("div",{className:w.a[r]},e.text),t,a))},v=t(9),f=t.n(v),C=function(e){var a=n.a.createElement("span",{className:["categoryName",e.clickedCategoryHue,e.removeDiacrits(e.categoryClicked)].join(" ")},e.categoryClicked.toUpperCase());return n.a.createElement("div",{className:[f.a.backDrop,f.a[e.isModalVisible]].join(" "),onClick:e.hideBackDrop},n.a.createElement("div",{className:[f.a.modalWindow,f.a[e.isModalVisible]].join(" ")},n.a.createElement("div",{className:f.a.hideBackDrop,onClick:e.hideBackDrop}),n.a.createElement("form",{onSubmit:e.submitNewProduct},n.a.createElement("h4",null,"Dodaj produkt do kategorii ",a),n.a.createElement("div",{className:"row"},n.a.createElement(b,{id:"newProductName",text:"Podaj nazw\u0119 produktu",width:"9",value:e.newProductName,onChange:e.handleInputChange}),n.a.createElement(b,{id:"newProductToBuy",text:"Kupi\u0107?",type:"switch",width:"3",value:e.newProductToBuy,mainClassName:"switchContainer",onChange:e.handleInputChange})),n.a.createElement(b,{id:"newProductNameSubmit",clName:"hue-120",type:"submit",value:"Dodaj produkt"})),n.a.createElement("form",{onSubmit:e.deleteSelectedProducts},n.a.createElement("h4",null,"Usu\u0144 produkt/y z kategorii ",a),e.productsFromCategory,n.a.createElement(b,{id:"newProductNameSubmit",type:"submit",clName:"hue-0",value:"Usu\u0144 zaznaczone produkty",onSubmit:e.submitCategoryNameChange})),n.a.createElement("form",{onSubmit:e.submitCategoryNameChange},n.a.createElement("h4",null,"Edytuj kategori\u0119 ",a),n.a.createElement(b,{id:"newCategoryName",text:"Nowa nazwa kategorii",value:e.newCategoryName,onChange:e.handleInputChange}),n.a.createElement(b,{id:"newCategoryNameSubmit",type:"submit",clName:"hue-30",value:"Zmie\u0144 nazw\u0119 kategorii"}),n.a.createElement("p",null,"WY\u015aWIETLI\u0106 KOLOROWE KWADRACIKI do zaznaczenia"),n.a.createElement(b,{id:"newCategoryColorSubmit",type:"submit",clName:"hue-300",value:"Zmie\u0144 kolor kategorii"}))))},z=t(14),_=t.n(z),N=function(e){var a=e.prod;return n.a.createElement("label",{className:_.a.checkboxContainer,key:a},n.a.createElement("input",{type:"checkbox",id:a}),n.a.createElement("span",{className:_.a.prodName},a),n.a.createElement("span",{className:_.a.checkmark}))},E=t(8);E.initializeApp({apiKey:"AIzaSyB_psG_2HT8VisbjB3szsMjZsnlfQIS9ko",authDomain:"what-to-buy-94750.firebaseapp.com",databaseURL:"https://what-to-buy-94750.firebaseio.com",projectId:"what-to-buy-94750",storageBucket:"what-to-buy-94750.appspot.com",messagingSenderId:"194092546135",appId:"1:194092546135:web:7661e65a00a7f2aa390b12",measurementId:"G-XWZR1H0ZMY"});var S,j,I=E.database();new E.auth.GoogleAuthProvider;I.ref("categories").once("value").then((function(e){var a=e.val(),t={};Object.keys(a).forEach((function(e){t[e]=1})),I.ref("categoryNames").set(t)})),S="categories",j={pieczywo:{hue:40,products:{chleb:0,"bu\u0142ki":0,ciasto:0,razowy:0,"pe\u0142ny przemia\u0142":0,czosnkowe:0}},"nabia\u0142":{hue:180,products:{mleko:0,"mas\u0142o":0,"\u015bmietana":0,"zsiad\u0142e":0,kefir:0,jogurt:0,jajka:0,"ser bia\u0142y":0,"ser \u017c\xf3\u0142ty":0}},napoje:{hue:190,products:{"woda gazowana":0,"woda niegazowana":0,"sok jab\u0142kowy":0,"sok pomara\u0144czowy":0,"sok pomidorowy":0,"sok warzywny":0,"sok inny":0,tonik:0,sprite:0,cola:0}},"u\u017cywki":{hue:350,products:{kawa:0,herbata:0}},"s\u0142odycze":{hue:310,products:{czekolada:0,ciastka:0,paluszki:0,batony:0,bombonierka:0}},kasze:{hue:30,products:{gryczana:0,jaglana:0,mazurska:0,"ry\u017c bia\u0142y":0,"ry\u017c br\u0105zowy":0,"kasza manna":0,"p\u0119czak":0}},sypkie:{hue:240,products:{"m\u0105ka":0,cukier:0,"s\xf3l":0,"m\u0105ka razowa":0}},przyprawy:{hue:140,products:{pieprz:0,oregano:0,"ziele angielskie":0,"li\u015b\u0107 laurowy":0,gyros:0,curry:0,czosnek:0,imbir:0,"papryka s\u0142odka":0,"papryka ostra":0,ketchup:0,chrzan:0,musztarda:0,majonez:0}},makarony:{hue:60,products:{rurki:0,fale:0,kwadraty:0,nitki:0,razowy:0,lasagne:0}},"mi\u0119so ryby":{hue:360,products:{makrela:0,"\u015bledzie":0,szprotki:0,szynka:0,"kie\u0142basa":0,boczek:0,"pol\u0119dwica":0,baleron:0}},owoce:{hue:20,products:{"jab\u0142ka":0,banany:0,gruszki:0,"\u015bliwki":0,winogrona:0,orzechy:0,cytryny:0,limonki:0}},warzywa:{hue:100,products:{marchew:0,ziemniaki:0,pietruszka:0,pomidory:0,papryka:0,"sa\u0142ata":0,kapusta:0,"w\u0142oszczyzna":0,kalafior:0,"broku\u0142":0,"bak\u0142a\u017can":0,brukselka:0,fasola:0,szparagowa:0,czosnek:0,"og\xf3rki":0,cebula:0,cukinia:0}},konserwy:{hue:200,products:{kukurydza:0,groszek:0,ciecierzyca:0,kapary:0,mieszanka:0,"fasola czerwona":0,"fasola bia\u0142a":0}},chemia:{hue:290,products:{dezodorant:0,szampon:0,"myd\u0142o w p\u0142ynie":0,"p\u0142yn do zmywania":0,"mleczko do czyszczenia":0,"pasta do z\u0119b\xf3w":0,"proszek do prania":0,"p\u0142yn do prania":0,"p\u0142yn do p\u0142ukania":0}},przybory:{hue:230,products:{"papier \u015bniadaniowy":0,"papier do pieczenia":0,"filtry do kawy":0}},leki:{hue:110,products:{ibuprofen:0,paracetamol:0,"woda utleniona":0,"spirytus salicylowy":0,benzydamina:0,parafina:0,aspiryna:0,tormentiol:0}}},I.ref(S).set(j);var P=t(10),D=t.n(P),F=function(e){Object(m.a)(t,e);var a=Object(p.a)(t);function t(){var e;Object(d.a)(this,t);for(var o=arguments.length,r=new Array(o),c=0;c<o;c++)r[c]=arguments[c];return(e=a.call.apply(a,[this].concat(r))).state={categories:{"Pobieranie danych":{products:{"prosz\u0119_czeka\u0107...":1}}},fontSize:16,undo:[],redo:[],newCategoryName:"",newProductName:"",newProductToBuy:1,isModalVisible:"",categoryClicked:"",clickedCategoryHue:"",productsFromCategory:[]},e.dbRef="categories",e.changeFontSize=function(a){console.log(parseInt(a.target.dataset)),e.setState({fontSize:parseInt(e.state.fontSize)+parseInt(a.target.dataset.value)})},e.funcUndoRedo=function(a){var t,o,n=a.target.dataset.dir,r=Object(u.a)(e.state.undo),c=Object(u.a)(e.state.redo);"u"===n&&(t=r.pop(),c.push(t),I.ref("".concat(e.dbRef,"/").concat(t.category,"/products/").concat(t.name)).set(t.value)),"r"===n&&((o=c.pop()).value=0===o.value?1:0,r.push(o),I.ref("".concat(e.dbRef,"/").concat(o.category,"/products/").concat(o.name)).set(o.value)),console.log(t,o,r,c),e.setState({undo:r,redo:c})},e.moveProduct=function(a){var t=a.target.dataset.name,o=a.target.dataset.category,n=0===parseInt(a.target.dataset.value)?1:0;I.ref("".concat(e.dbRef,"/").concat(o,"/products/").concat(t)).set(n);var r=Object(u.a)(e.state.undo);r.push({name:t,category:o,value:parseInt(a.target.dataset.value)}),e.setState({undo:r})},e.updateProductsFromDb=function(a){I.ref(a).once("value",(function(t){var o=t.val(),n=function(t){var o="".concat(a,"/").concat(t);I.ref(o).on("value",(function(a){var o=Object(i.a)({},e.state.categories);o[t]=a.val(),e.setState({categories:o})}))};for(var r in o)n(r);e.setState(Object(s.a)({},a,o))}),(function(e){console.log(e.code,e)}))},e.handleInputChange=function(a){var t=a.target.value;t="newProductName"===a.target.id?t.toLowerCase():"newProductToBuy"===a.target.id?1===e.state.newProductToBuy?0:1:t.toUpperCase(),e.setState(Object(s.a)({},a.target.id,t))},e.handleCategoryClick=function(a){var t=a.target.dataset.name,o=[];for(var r in e.state.categories[t].products)o.push(n.a.createElement(N,{key:r,prod:r}));e.setState({productsFromCategory:o,isModalVisible:"visible",categoryClicked:t,clickedCategoryHue:a.target.dataset.hue,newCategoryName:t.toUpperCase()})},e.hideBackDrop=function(a){a.target===a.currentTarget&&e.setState({isModalVisible:""})},e.removeDiacrits=function(e){return e.replace(/[\u0105\u0107\u0119\u0142\u0144\xf3\u015b\u017a\u017c]/gi,"x")},e.categoryElement=function(a,t,o,r){return n.a.createElement("div",{"data-name":o,className:["categoryName",r,D.a.categoryName,e.removeDiacrits(o)].join(" "),onClick:e.handleCategoryClick,"data-hue":r,key:a+t},o)},e.submitCategoryNameChange=function(e){e.preventDefault(),console.log(e.target)},e.submitNewProduct=function(a){a.preventDefault();var t=Object(i.a)({},e.state.categories[e.state.categoryClicked].products);t[e.state.newProductName]=e.state.newProductToBuy,console.log(e.state.newProductName),I.ref("".concat(e.dbRef,"/").concat(e.state.categoryClicked,"/products/")).set(t)},e}return Object(l.a)(t,[{key:"componentDidMount",value:function(){this.updateProductsFromDb("".concat(this.dbRef))}},{key:"render",value:function(){var e=this,a=[],t=[];return Object.keys(this.state.categories).forEach((function(o,r){var c=e.state.categories[o],i="hue-"+c.hue,s=[],u=[];Object.keys(c.products).forEach((function(a,t){var r=n.a.createElement("div",{className:["product",i,D.a.product].join(" "),key:e.removeDiacrits(o)+t,"data-name":a,"data-category":o,onClick:e.moveProduct,"data-value":c.products[a]},a.toLowerCase());c.products[a]?s.push(r):u.push(r)})),s.length>0&&a.push(e.categoryElement(a,r,o,i)),a.push.apply(a,s),u.length>0&&t.push(e.categoryElement(t,r,o,i)),t.push.apply(t,u)})),n.a.createElement("div",{className:D.a.list,style:{fontSize:this.state.fontSize}},n.a.createElement(k,{changeFontSize:this.changeFontSize,funcUndoRedo:this.funcUndoRedo,undo:0===this.state.undo.length,redo:0===this.state.redo.length}),n.a.createElement("p",null,"Do kupienia:"),n.a.createElement("div",{className:D.a.toBuy},a),n.a.createElement("hr",null),n.a.createElement("div",{className:D.a.theRest},t),n.a.createElement(C,{categoryClicked:this.state.categoryClicked,newCategoryName:this.state.newCategoryName,clickedCategoryHue:this.state.clickedCategoryHue,newProductName:this.state.newProductName,hideBackDrop:this.hideBackDrop,removeDiacrits:this.removeDiacrits,handleInputChange:this.handleInputChange,submitCategoryNameChange:this.submitCategoryNameChange,submitNewProduct:this.submitNewProduct,productsFromCategory:this.state.productsFromCategory,deleteSelectedProducts:this.deleteSelectedProducts,isModalVisible:this.state.isModalVisible}))}}]),t}(o.Component);t(41);var B=function(){return n.a.createElement("div",{className:"App"},n.a.createElement(F,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(B,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},7:function(e,a,t){e.exports={formField:"InputField_formField__1aeAu",answerRadio:"InputField_answerRadio__38Ff8",checkmark:"InputField_checkmark__2FKrn",invalid:"InputField_invalid__1BJoB",submit:"InputField_submit__2j43y",switchContainer:"InputField_switchContainer__3xTYm",switch:"InputField_switch__3PWGH",moveHigher:"InputField_moveHigher__1ohim",slider:"InputField_slider__3212e"}},9:function(e,a,t){e.exports={backDrop:"Modal_backDrop__1X4vu",visible:"Modal_visible__2SMZK",modalWindow:"Modal_modalWindow__16Crz",newCategoryName:"Modal_newCategoryName__e8lG8",hideBackDrop:"Modal_hideBackDrop__1qf7m"}}},[[25,1,2]]]);
//# sourceMappingURL=main.9fbd3b43.chunk.js.map